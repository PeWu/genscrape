<div class="conBody">
                        <div id="savedRecords" class="w100" style="display: none;"><!-- Javascript (RecordSetDataModel) injects the saved trees content here. --></div>
                        <div id="savedToShoeBox" class="w100"><!-- Javascript (RecordSetDataModel) injects the saved to shoebox content here. --></div>
                        <div id="thumbnailTools" class="w33 full480">
                            <div class="imageThumb">
                                <!-- Image Thumbnail -->
                                <script type="text/javascript">
        $("<img />").attr('src', 'http://mediasvc.ancestry.com/v2/thumbnail/namespaces/7545/defaults?Client=SearchUI&amp;MaxSide=175&amp;suppressNotFound=true')
        .load(function () {
            $("#thumbnailTools").find(".imageThumb").removeClass("loading placeholder");
        });
</script>

                            </div>
                            <div>
                                
		<div id="vitalCheckOrder" style="padding:10px 10px 10px 0;"><a title="Click here to order a birth, death, marriage or divorce certificate" style="background:url(http://c.ancestry.com/lib/tgn/ancestry/search/i/vitalchekorderdocument.png); width:149px; height:112px; display:block;" href="https://secure.ancestry.com/VitalChek/selection.aspx?su=http%3a%2f%2fsearch.ancestry.com%2fcgi-bin%2fsse.dll%3findiv%3d1%26db%3dweb-obituary%26h%3d22395809&amp;ce=4&amp;na=Joyce+Ann+Mears&amp;ge=F&amp;fn=Fred+Smith&amp;mn=Ruth+Ellen+Meredith&amp;sn=Jerry+V.+Mears&amp;ed=&amp;ci=&amp;st="></a></div>


<ul><li>        <button class="link icon" type="button" onclick="popUpExternal();">
            <img src="http://c.mfcreative.com/SUI_APP/1.1.3526/cdn/i/web_icon.gif">
            <span class="secondThumbText">View full obituary</span>
        </button>
<script src="http://c.mfcreative.com/SUI_APP/1.1.3526/cdn/searchResultsModal.js?v=63"></script>
<style>
    .externalSiteModalNotes {
        margin: 12px 20px;
    }
    .externalSiteModalNotes li {
        list-style-type: disc;
    }
    .externalSiteImage {
        position: absolute;
        top: 12px;
        right: 12px;
    }
    #externalContent {
        position: relative;
    }
    #externalContent:after {
        background: url('http://c.mfcreative.com/SUI_APP/1.1.3526/cdn/i/medium_webrec_icon.jpg') no-repeat;
        content: "";
        width: 52px;
        height: 52px;
        position: absolute;
        top: 0;
        right: 0;
    }
    .externalModalDescription {
        width: 80%;
    }
    .externalModalLink {
        margin: 8px 0;
        display: block;
    }
    .externalModalActions span { 
        display: table-cell;
        width: 50%;
    }
    .externalModalActions {
        display: table;
        width: 100%;
    }
    .externalModalActions span:last-child {
        text-align: right;
    }
    .externalModalButton {
        margin-right: 8px;
    }
    .externalModalCancel {
        margin-left: 8px;
    }
    @media only screen and (max-width:420px) {
        .externalModalActions span { 
            display: block;
            width: auto;
        }
        .externalModalActions span:last-child {
            margin-top: 12px;
            text-align: left;
        }
        .externalModalActions {
            display: block;
            width: auto;
        }
    }
</style>
<div id="externalContent" class="modal" title="You are about to view a Web Record">
    <div class="externalModalDescription">
        <h2>Search the web with Ancestry</h2>
        <p>In addition to the billions of records on Ancestry, we are now searching the web to bring you even more records about your ancestors.</p>
        <ul class="externalSiteModalNotes">
            <li>This record is not from Ancestry</li>
            <li>The page will open in a new window</li>
            <li>You may need to perform a search to find the record when the page opens</li>
        </ul>
    </div>
    <p><strong>You are about to open:</strong></p>
    <a class="externalModalLink" href="http://www.legacy.com/obituaries/newszapde/obituary.aspx?n=joyce-ann-mears&amp;pid=140535508" target="_blank" title="http://www.legacy.com/obituaries/newszapde/obituary.aspx?n=joyce-ann-mears&amp;pid=140535508">http://www.legacy.com/obituaries/newszapde/obituary.aspx?n=joyce-ann-...</a>
    <div class="externalModalActions">
        <span><a class="ancBtn orange externalModalButton" href="http://www.legacy.com/obituaries/newszapde/obituary.aspx?n=joyce-ann-mears&amp;pid=140535508" target="_blank">Open website</a> or <button class="link externalModalCancel">Cancel</button></span>
        <span><input type="checkbox" id="externalSiteCheckbox" class="ancCheckbox"><label for="externalSiteCheckbox">&nbsp;Don't show this message again</label></span>
    </div>                      
</div></li></ul>


                            </div>
                            <ul>
                                
                                    <li><button onclick="OremMetaData.DoOrem(22395809)" type="button" class="link icon iconEdit correctionLabel"><span>Add alternate information</span></button></li>
    <li><a href="http://www.ancestry.com/feedback/reportissue?rp=RD&amp;backurl=http%3a%2f%2fsearch.ancestry.com%2fcgi-bin%2fsse.dll%3findiv%3d1%26db%3dweb-obituary%26h%3d22395809" class="link icon iconWarning"><span>Report issue</span></a></li>

                            </ul>
                                <script>
    var correctionsMetadata = {"ImageId":"","GivenName":"Joyce","Surname":"Mears","FieldGroups":[{"Label":"Name","Fields":[{"FieldId":"80004002","Label":"Given Name","ApplyToHousehold":false,"ShowOther":false,"ValidValues":[]},{"FieldId":"80004003","Label":"Surname","ApplyToHousehold":true,"ShowOther":false,"ValidValues":[]}],"Reasons":[{"Type":0,"Text":"Transcription error"},{"Type":1,"Text":"Incorrect in image"},{"Type":2,"Text":"Nick Name"},{"Type":3,"Text":"Maiden Name"},{"Type":4,"Text":"Name Change"},{"Type":5,"Text":"Variation"}]}],"ResourceStrings":{"SelectChoose":"Choose...","Title":"Add an update for {0}","ProvideAlternateLabel":"Provide alternate for {0}","Reason":"Reason","ExplainLabel":"Explain or Source your update (optional)","SubmitAlternateLabel":"Submit Alternate","Cancel":"Cancel","CorrectionsDescription":"This is what other Ancestry members have added to this record. If you have something to add, click on Add your own and tell us what you know.","Contributions":"Contributions","ContributionType":"Type","ContributionComparisonText":"{0} rather than {1}","ContributionExplanation":"Correction due to an error in {0}","SubmitterLabel":"Submitted by:","ContributionInvitation":"Add your own","Close":"Close","ApplyToHH":"Apply {0} \"{1}\" to other members of this household?","NoReasonSelected":"Please choose a reason for your alternate.","ViewCorrectionDesc":"This is what other Ancestry members have added to this record. If you have something to add, click on Add your own and tell us what you know.","SubmitHH":"Apply","TypeCorrection":"Type","ChangesSaved":"Your alternate has been saved","IndicatesRequired":"Indicates required field","MemberContributionsfor":"Contributions for {0}","NumContributions":"{0}Contributions","AddYourOwn":"Add your own","RatherThan":"rather than","OnDate":"on","ViewProfile":"View Profile","ProfileContact":"Contact","BlockUser":"Block User","YouHaveBlockedUser":"You have blocked this user","UnblockUser":"Unblock","LastLogin":"Last log in","AncestryContributions":"Ancestry Contributions","OremType0":"Correction due to an error in transcription.","OremType1":"The original data on the record is incorrect.","OremType2":"Added a Nickname.","OremType3":"Added a Maiden Name.","OremType4":"Added an alternate name.","OremType5":"Added a variation of the recorded data.","OremType6":"Added a comment.","OremType7":"Added additional data not found on the record.","OremType8":"Added a middle name.","ViewEditCorrectionToolLabel":"View/Add alternate info","AddCorrectionLabel":"Add alternate information","ConfirmDelete":"Are you sure you want to remove this correction?","PleaseChooseReasonForAlteration":"Please choose a reason for your alteration","PleaseProvideUpdate":"Your update was missing, please provide update or hit Cancel","PleaseSupplyValidFields":"Please supply values for all required fields","NotTranscribed":"not transcribed","OriginalValue":"Original Value","CommentTitle":"Comment","CorrectionError":"Sorry, We are unable to store your correction at this time.","TextLimit":"Please keep your comment under {} characters.","SubmittedOn":"Submitted on {0}","ApplyToOtherMembers":"Apply this change to other household members"},"OriginalValues":{"84000001":"","840002A0":"","810002A0":"","810002A1":"2010","810002A2":"Mar","810002A3":"10","820002A0":"","820002A1":"USA","820002A2":"DE","820002A4":"Delaware","84004001":"","84004000":"","80004000":"","80004002":"Joyce","80004003":"Mears","80004005":"Ann","83004000":"","83004003":"F","84004010":"","82004010":"Seaford","84004030":"","81004030":"03/08/2010","81004031":"2010","81004032":"Mar","81004033":"8","82004030":"Seaford","82004034":"Seaford","84004040":"","82004040":"","82004044":"Seaford","84008001":"","84008000":"","80008000":"","80008002":"Ruth","80008003":"Meredith","80008005":"Ellen","8400C001":"","8400C000":"","8000C000":"","8000C002":"Fred","8000C003":"Smith","84010001":"","84010000":"","80010000":"Diane Harrington, Debbie Waldridge, both of Laurel and Donna Ockels of Seaford; Fred Smith III","84014001":"","84014000":"","80014000":"Michelle Lowe; Richard Mears","84018001":"","84018000":"","80018000":"","80018002":"Jerry","80018003":"Mears","80018005":"V.","C0000000":"22395809","C0000001":"2321","C000000E":"19404298","E0002712":"2978947","E00027FA":"20100310","E0003444":"Joyce Ann Mears, 56 LAUREL - Joyce Ann Mears, of Laurel, passed away on Monday, March 8, 2010, at Nanticoke Memorial Hospital in Seaford. She was 56. Joyce was born in Seaford. She was a homemaker and member of the Blades U.M. Church in Blades. She enjoyed shopping with her daughters, going to church and the beach and sightseeing. She especially loved spending time with her family. Her mother, Ruth Ellen Meredith; husband, Jerry V. Mears; brother, Fred Smith III; and son, Richard Mears, precedes her in death. She is survived by her father, Fred Smith, Jr. of Blades; fianc, Ronald L. Elliott; two daughters, Michelle Lowe and her fianc Tony Windsor of Seaford and Lisa Mears and her fianc Doug Hudson of Laurel; three sisters, Diane Harrington, Debbie Waldridge, both of Laurel and Donna Ockels of Seaford; four grandchildren, Christopher Lowe and his wife Jessica, Kara Beth Mears, Jaread V. Mears and Courtney E. Gordy; and several special nieces and nephews. Funeral services will be noon, Saturday, March 13, at Blades U.M. Church, 306 S. Market St, Blades. Friends may call Friday night from 6 to 8 p.m. in the chapel of Short Funeral Services, 609 E. Market St, Georgetown. Burial will be in Odd Fellows Cemetery, Seaford. Contributions may be made to: American Lung Association, 422 S. Governors Ave, Dover, De 19904.","E00047F3":"2809145","E00047F4":"4","F0002713":"http://www.legacy.com/obituaries/newszapde/obituary.aspx?n=joyce-ann-mears\\u0026pid=140535508","F0002714":"20100310\\\\2809145","F0002716":"nid2425","F0002717":"NewsZap"},"ShowCorrections":true};
    var OremInitData = {};
    var OremEventName = "oremCorrection";
    var OremMetaData = {
        CreateOremFields: function() {
            OremMetaData.CreateOremAlterationOptions();
            OremMetaData.CreateOremReasonsOptions(0);
            OremMetaData.CreateOremInputFields();
            OremMetaData.BindSubmitForCorrection();
        },
        ChangeCorrectionToolLabel: function(count) {
            if (count > 0) {
                $("#thumbnailTools .correctionLabel span").text("View/Add alternate info");
            } else {
                $("#thumbnailTools .correctionLabel span").text("Add alternate information");
            }
        },
        CreateOremAlterationOptions: function() {
            var $addOremCorrections = $("#addOremCorrections"),
                $provideAlternateFor = $(".provideAlternateFor"),
                $oremAlternateFor = $("#oremAlternateFor");
            //Update Modal Title
            $addOremCorrections.attr("data-title", $addOremCorrections.attr("data-title").replace("{0}", "Joyce" + " " + "Mears"));

            //Update Alteration Type Select Label
            $provideAlternateFor.find("label").text($provideAlternateFor.find("label").text().replace("{0}", "Joyce" + " " + "Mears"));

            for (var i = 0; i < correctionsMetadata.FieldGroups.length; i++) {
                var hint = "",
                    label = correctionsMetadata.FieldGroups[i].Label,
                    showOther = correctionsMetadata.FieldGroups[i].Fields[0].ShowOther,
                    dataType = "none",
                    fieldId = correctionsMetadata.FieldGroups[i].Fields[0].FieldId,
                    applyH = correctionsMetadata.FieldGroups[i].Fields[0].ApplyToHousehold,
                    validValues = correctionsMetadata.FieldGroups[i].Fields[0].ValidValues,
                    originalValue = correctionsMetadata.OriginalValues[fieldId] ? correctionsMetadata.OriginalValues[fieldId] : "",
                    raceAttribute = fieldId === "83004002" ? "data-israce=\"true\" " : "",
                    numOfFields = correctionsMetadata.FieldGroups[i].Fields ? correctionsMetadata.FieldGroups[i].Fields.length : 0;
                if (correctionsMetadata.FieldGroups[i].Fields[0].Hint) {
                    hint = correctionsMetadata.FieldGroups[i].Fields[0].Hint;
                }
                if (correctionsMetadata.FieldGroups[i].DataType) {
                    dataType = correctionsMetadata.FieldGroups[i].DataType;
                }
                if (correctionsMetadata.FieldGroups[i].FieldId) {
                    fieldId = correctionsMetadata.FieldGroups[i].FieldId;
                }
                $oremAlternateFor.append($("<option data-hint=\"" +
                    hint +
                    "\" data-label=\"" +
                    label +
                    "\" data-showother=\"" +
                    showOther +
                    "\" data-applyH=\"" +
                    applyH +
                    "\" data-origVal=\"" +
                    originalValue +
                    "\" data-datatype=\"" +
                    dataType +
                    "\" data-fieldslength=\"" +
                    numOfFields +
                    "\" data-fdid=\"" +
                    fieldId + "\" " +
                    raceAttribute +
                    "value='" + i + "'>" +
                    label +
                    "</option>").data("validvalues", validValues));
            }
            $oremAlternateFor.prepend(OremMetaData.HtmlChooseOptionTemplate()).val("-1");
        },
        CreateOremReasonsOptions: function(selectedIndex) {
            var $oremReasonField = $("#oremReasonField"),
                optionHtml = "";
            $oremReasonField.empty();
            if (correctionsMetadata.FieldGroups.length > 0) {
                if (selectedIndex !== 0) {
                    selectedIndex = selectedIndex - 1;
                }
                for (var i = 0; i < correctionsMetadata.FieldGroups[selectedIndex].Reasons.length; i++) {
                    optionHtml += "<option value='" +
                        correctionsMetadata.FieldGroups[selectedIndex].Reasons[i].Type + "'>" +
                        correctionsMetadata.FieldGroups[selectedIndex].Reasons[i].Text +
                        "</option>";
                }

                if (correctionsMetadata.FieldGroups[selectedIndex].Reasons.length === 0) {
                    $("#oremReason").addClass("noDisplay");
                }
            }
            $oremReasonField.append(optionHtml).prepend(OremMetaData.HtmlChooseOptionTemplate()).val("-1");
        },
        CreateMultipleInputFields: function(selectedIndex) {
            var fieldHtml = "";
            for (var i = 0; i < correctionsMetadata.FieldGroups[selectedIndex].Fields.length; i++) {
                var id = correctionsMetadata.FieldGroups[selectedIndex].Fields[i].Label.replace(" ", ""),
                    fdid = correctionsMetadata.FieldGroups[selectedIndex].Fields[i].FieldId,
                    label = correctionsMetadata.FieldGroups[selectedIndex].Fields[i].Label,
                    applyToHouseHold = correctionsMetadata.FieldGroups[selectedIndex].Fields[i].ApplyToHousehold,
                    additionalClassNames,
                    originalValue = correctionsMetadata.OriginalValues[fdid],
                    displayName = originalValue ? originalValue : "";
                if (i%2 === 0) {
                    additionalClassNames = " ancColRow w50 full768";
                } else {
                    additionalClassNames = " w50 full768";
                }

                fieldHtml += "<div class='oremCorrectionNames noDisplay ancCol" + additionalClassNames + "'>" +
                    "<label for='" + id + fdid + "'>" + label + "</label>" +
                    "<input id='" + id + fdid + "' type='text' name='correction" + [i] + "' value='" + displayName + "'/>" +
                    "<input type='hidden' name='fdid" + [i] + "' value='" + fdid + "'/>" +
                    "<input type='hidden' name='applyH" + [i] + "' value='" + applyToHouseHold + "'/>" +
                    "<input type='hidden' name='origVal" + [i] + "' value='" + displayName + "'/></div>";
            }
            $('.oremCorrectionNames').remove();
            $('#oremReason').after(fieldHtml);
        },
        CreateOremInputFields: function() {
            var fieldHtml = "<input class='applyToHouseHold' type='hidden' name='applyH' value='false'/>" +
                "<input type='hidden' class='originalValue' name='origVal' value=''/>";
            $("#addOremCorrections .reason").after(fieldHtml);
        },
        RemoveAlertIfChangedToValidValue: function() {
            var $selects = $("#oremAlternateFor, #oremReasonField, #oremAdditionalCorrection select");
            $selects
                .off("change." + OremEventName)
                .on("change." + OremEventName, function() {
                    $("#oremAlert").alert("close");
                });
        },
        ValidateCorrectionFields: function() {
            var isValid = false;

            if ($("#oremAdditionalCorrection").hasClass("noDisplay")
                || $("#oremAdditionalCorrection input").val() !== "") {
                isValid = true;
            }
            return isValid;
        },
        ValidateReasonForCorrection: function() {
            var reasonValue = $("#oremReason").find("select option:selected").val(),
                isValid = true;
            if (reasonValue === "-1" && !$("#oremReason").hasClass("noDisplay")) {
                isValid = false;
            }
            return isValid;
        },
        ShowOremAlertMessage: function() {
            var alertText;
            if (!OremMetaData.ValidateReasonForCorrection()) {
                alertText = "Please choose a reason for your alteration";
            } else if (!OremMetaData.ValidateCorrectionFields()) {
                alertText = "Your update was missing, please provide update or hit Cancel";
            } else {
                alertText = "Please supply values for all required fields";
            }

            $("#oremAlert").text(alertText);
            $("#oremAlert").alert("open");
        },
        ResetAddCorrectionForm: function() {
            //Reset the add correction form
            $('#addOremCorrections form')[0].reset();
            $('#oremReason').addClass('noDisplay');
            $('#oremAdditionalCorrection').addClass('noDisplay');
            $('.oremCorrectionNames').addClass('noDisplay');
            $('#oremExplanation label').addClass('noDisplay');
            $('#oremExplanation textarea').addClass('noDisplay');
            $('#viewSourceTextArea').removeClass('noDisplay');
        },
        CreateSubmitCorrectionObject: function($form) {
            var submitCorrectionObject = {},
                inputs = $form.find("input"),
                reason = $("#oremReasonField option:selected").val(),
                maxCommentLength = 500;

            submitCorrectionObject["pid"] = OremInitData.SelectedPid;
            submitCorrectionObject["dbid"] = OremInitData.Dbid;
            submitCorrectionObject["imageId"] = "";
            submitCorrectionObject["reason"] = reason === "-1" ? "9" : reason;
            submitCorrectionObject["gname"] = "Joyce";
            submitCorrectionObject["sname"] = "Mears";

            for (var inputIndex = 0; inputIndex < inputs.length; inputIndex++) {
                //Make sure the elements should be serialized, and that they have changed from their original value.
                if ($(inputs).eq(inputIndex).parent(".noDisplay").length === 0) {
                    submitCorrectionObject[$(inputs).eq(inputIndex).attr("name")] = $(inputs).eq(inputIndex).val();
                }
            }

            if ($("#oremSourceInfo").val().length > maxCommentLength) {
                var characterLimitText = "Please keep your comment under {} characters.".replace("{}", maxCommentLength);
                $("#oremAlert").text(characterLimitText);
                $("#oremAlert").alert("open");
                return false;
            } else {
                submitCorrectionObject["scomment"] = $("#oremSourceInfo").val();
                return submitCorrectionObject;
            }
        },
        SubmitCorrection: function(e) {
            $.ajax({
                type: "GET",
                url: "/Content/Orem/AJAX/SubmitCorrection.ashx" + ((typeof isWatchBitRequest !== 'undefined' && isWatchBitRequest(location.href)) ? addWatchBitParameter(false) : ""),
                data: OremMetaData.CreateSubmitCorrectionObject($("#addOremCorrections form")),
                success: function(response) {
                    //Bit tracking
                    if (typeof isWatchBitRequest !== 'undefined' && isWatchBitRequest(location.href)) {
                        processWatchBitData(response);
                    }

                    $("#addOremCorrections").addClass("noDisplay");

                    $("#oremAlert").alert("close");

                    if (response.HHMembers) {
                        var isHouseHold = response.HHMembers.length !== 0;
                    }

                    if (isHouseHold) {
                        var $houseHold = $("#houseHoldOremCorrections");
                        OremMetaData.CreateHouseHoldModalContent(response);
                        $houseHold.modal();
                        $houseHold.removeClass("noDisplay");
                    } else {
                        $("#viewEditOremCorrections").modal().removeClass("noDisplay");
                    }
                    OremMetaData.CreateCorrectionContributionsContent(response, false);
                },
                error: function(xhr, status) {
                    alert("Sorry, We are unable to store your correction at this time.");
                    e.preventDefault();
                    return false;
                }
            });
        },
        BindSubmitForCorrection: function() {
            $("#addOremCorrections form")
                .off("submit." + OremEventName)
                .on("submit." + OremEventName, function(e) {
                    e.preventDefault();
                    if (OremMetaData.ValidateReasonForCorrection() && OremMetaData.ValidateCorrectionFields() && !OremMetaData.ShouldShowChooseUI()) {
                        OremMetaData.SubmitCorrection(e);
                    } else {
                        OremMetaData.ShowOremAlertMessage();
                        e.preventDefault();
                        return false;
                    }
            });
            $("#oremSubmitAlternative")
                .off("keypress click." + OremEventName)
                .on("keypress click." + OremEventName, function(e) {
                    if (OremMetaData.ValidateReasonForCorrection() && OremMetaData.ValidateCorrectionFields() && !OremMetaData.ShouldShowChooseUI()) {
                        OremMetaData.SubmitCorrection();
                    } else {
                        e.preventDefault();
                        OremMetaData.ShowOremAlertMessage();
                        return false;
                    }
            });
        },
        CreateHouseHoldModalContent: function(houseHoldObject) {
            var houseHoldContent = "",
                fdid = houseHoldObject.HHInfo.HHFields,
                applyToHouseholdFormat = "Apply {0} \"{1}\" to other members of this household?",
                $optionSelected = $('#oremAlternateFor').find(":selected"),
                fieldLabel = "",
                selectedIndex = +$optionSelected.val(),
                fields = correctionsMetadata.FieldGroups[selectedIndex].Fields,
                reason = $('#oremReasonField option:selected').val(),
                reasonValue = reason === "-1" ? "9" : reason;

            if (fields) {
                for (var j = 0; j < fields.length; j++) {
                    if (fields[j].FieldId == fdid) {
                        fieldLabel = fields[j].Label;
                        break;
                    }
                }
            }

            for (var i = 0; i < houseHoldObject.HHMembers.length; i++) {
                var isChecked = (houseHoldObject.HHMembers[i].surname === "Mears") ? "checked=\"checked\"" : "",
                    name = (houseHoldObject.HHMembers[i].given || houseHoldObject.HHMembers[i].surname) ? $.trim(houseHoldObject.HHMembers[i].given + " " + houseHoldObject.HHMembers[i].surname) : "( not transcribed )",
                    originalValue = correctionsMetadata.OriginalValues[fdid] ? correctionsMetadata.OriginalValues[fdid] : "";
                houseHoldContent += "<tr>" +
                    "<td>" +
                    "<input class='checkbox' id='" + houseHoldObject.HHMembers[i].surname +
                    houseHoldObject.HHMembers[i].pid +
                    "' type='checkbox' " +
                    isChecked +
                    " " +
                    "name='u" + i + "' value='" +
                    houseHoldObject.HHMembers[i].pid +
                    "||" +
                    houseHoldObject.HHMembers[i].given +
                    "||" +
                    houseHoldObject.HHMembers[i].surname +
                    "||" +
                    originalValue +
                    "'/>" +
                    "<label for='" + houseHoldObject.HHMembers[i].surname +
                    houseHoldObject.HHMembers[i].pid + "'>" +
                    name +
                    "</label>" +
                    "</td>" +
                    "</tr>";
            }
            for (var j = 0; j < fdid.length; j++) {
                houseHoldContent += "<input class='checked' type='hidden' name='fdid" + j + "' value='" + fdid + "'/>";
                houseHoldContent += "<input class='checked' type='hidden' name='correction" + j + "' value='" + houseHoldObject.HHInfo["cVal" + fdid] + "'/>";
            }
            houseHoldContent += "<input class='checked' type='hidden' name='reason' value='" + reasonValue + "'/>";
            houseHoldContent += "<input class='checked' type='hidden' name='scomment' value='" + $("#oremSourceInfo").val() + "'/>";

            //Create House Hold Correction Name for title
            $("#applyToHouseHold").text(applyToHouseholdFormat.replace("{0}", fieldLabel).replace("{1}", houseHoldObject.HHInfo["cVal" + fdid]));
            $("#houseHoldOremCorrections table").html(houseHoldContent);
            OremMetaData.BindSubmitForHouseHoldCorrection();
        },
        CreateSubmitHouseHoldCorrectionObject: function($form) {
            var submitHhCorrectionObject = {},
                $checkboxes = $form.find("input[type=checkbox]:checked"),
                $inputs = $form.find("input[type=hidden]");

            //Get and Set dbid, reason for change, imageID, and customer comment
            submitHhCorrectionObject["dbid"] = TGN.Ancestry.Search.RSDM.RecordSetDataModel.Dbid;
            submitHhCorrectionObject["imageId"] = "";

            //Get and Set checkboxes selected
            for (var checkboxIndex = 0; checkboxIndex < $checkboxes.length; checkboxIndex++) {
                submitHhCorrectionObject["u" + checkboxIndex] = $checkboxes.eq(checkboxIndex).val();
            }

            //Get and Set fdid for field and correction values
            for (var inputIndex = 0; inputIndex < $inputs.length; inputIndex++) {
                submitHhCorrectionObject[$inputs.eq(inputIndex).attr("name")] = $inputs.eq(inputIndex).val();
            }

            return submitHhCorrectionObject;
        },
        BindSubmitForHouseHoldCorrection: function() {
            $("#addOremHouseHoldCorrection")
                .off("click." + OremEventName)
                .on("click." + OremEventName, function() {
                    $.ajax({
                        type: "POST",
                        url: "/Content/Orem/AJAX/SubmitHHCorrection.ashx" + ((typeof isWatchBitRequest !== 'undefined' && isWatchBitRequest(location.href)) ? addWatchBitParameter(false) : ""),
                        data: OremMetaData.CreateSubmitHouseHoldCorrectionObject($(this).parents("form")),
                        success: function(response) {
                            //Bit Tracking
                            if (typeof isWatchBitRequest !== 'undefined' && isWatchBitRequest(location.href)) {
                                processWatchBitData(response);
                            }

                            $("#houseHoldOremCorrections").addClass("noDisplay");

                            OremMetaData.CreateCorrectionContributionsContent(response, false);

                            $("#viewEditOremCorrections").modal();
                            $("#viewEditOremCorrections").removeClass("noDisplay");

                            //Successful add to household member
                            $("#oremContributionCount").text(OremMetaData.CorrectionCount);
                        },
                        error: function(xhr, status) {
                            alert("Sorry, We are unable to store your correction at this time.");
                        }
                    });
                });
        },
        GetOldValueForCorrection: function(i) {
            var oldValue = OremInitData.Records["_" + OremInitData.SelectedPid].Orems[i].OldValue;
            return oldValue;
        },
        GetSubmittedNameForCorrectionContributions: function(uid) {
            var submittedByName = "";
            //Create Submitted by name if matching UCDMID
            for (var userProp in OremInitData.Users) {
                if (OremInitData.Users[userProp].UserId === uid) {
                    submittedByName = OremInitData.Users[userProp].DisplayName;
                }
            }
            return submittedByName;
        },
        GetFdidNameForCorrectionContributions: function(fdid) {
            var fdidName = "";
            //Get Fdid name
            for (var fieldGroupIndex = 0; fieldGroupIndex < correctionsMetadata.FieldGroups.length; fieldGroupIndex++) {
                for (var fieldsIndex = 0; fieldsIndex < correctionsMetadata.FieldGroups[fieldGroupIndex].Fields.length; fieldsIndex++) {
                    if (correctionsMetadata.FieldGroups[fieldGroupIndex].Fields[fieldsIndex].FieldId === fdid) {
                        fdidName = correctionsMetadata.FieldGroups[fieldGroupIndex].Label;
                    }
                }
            }
            return fdidName;
        },
        GetCorrectionTypeDescriptionForCorrectionContributions: function(reasonNumber) {
            var reasonTypeDescriptions = [
                "Correction due to an error in transcription.",
                "The original data on the record is incorrect.",
                "Added a Nickname.",
                "Added a Maiden Name.",
                "Added an alternate name.",
                "Added a variation of the recorded data.",
                "Added a comment.",
                "Added additional data not found on the record.",
                "Added a middle name."
            ];
            return (reasonTypeDescriptions[reasonNumber]) ? reasonTypeDescriptions[reasonNumber] : "";
        },
        CorrectionCount: 0,
        CreateCorrectionContributionsContent: function(response, shouldRenderPreviousCorrections) {
            var headerContent;

            $("#viewEditOremCorrections").attr("data-title", $("#viewEditOremCorrections").attr("data-title").replace("{0}", "Joyce" + " " + "Mears"));

            headerContent = "<tr class='contributionsCountHeader'>" +
                "<th colspan='2'>" +
                "{0}Contributions".replace("{0}", "<span id='oremContributionCount'>" + OremMetaData.CorrectionCount + "</span>&nbsp;") +
                "</th>" +
                "</tr>";

            //Generate initial HTML for Contributions
            if (OremInitData.Records["_" + OremInitData.SelectedPid].Orems) {
                if (shouldRenderPreviousCorrections) {
                    $("#viewEditOremCorrections table").html(OremMetaData.CorrectionsTableContent(OremInitData.Records["_" + OremInitData.SelectedPid].Orems));
                }
            }

            //Add additional HTML contributions just submitted
            if (response) {
                $("#viewEditOremCorrections table .contributionsCountHeader").after(OremMetaData.CorrectionsTableContent(response.addedOrems, true));
            }

            OremMetaData.ChangeCorrectionToolLabel(OremMetaData.CorrectionCount);

            if (!$(".contributionsCountHeader").length) {
                $("#viewEditOremCorrections table").prepend(headerContent);
            }

            $("#oremContributionCount").text(OremMetaData.CorrectionCount);
            OremMetaData.ResetAddCorrectionForm();
        },
        CorrectionsTableContent: function(corrections, submittedByUser) {
            var previousEntryId,
                fullOldValue,
                fullNewValue,
                reasonNumber,
                title,
                entryId,
                macId,
                photoId,
                fdid,
                createDate,
                uid,
                isRecordSubmittedByCurrentUser,
                comment,
                content = "",
                oremIndex = 0;

            while (oremIndex < corrections.length) {
                var oldValues = [], newValues = [];
                fdid = '';
                createDate = corrections[oremIndex].CreateDate;
                uid = corrections[oremIndex].UserId;
                reasonNumber = corrections[oremIndex].ItemType;
                entryId = corrections[oremIndex].EntryId;
                comment = corrections[oremIndex].Comment;

                if(typeof OremInitData.Users[uid] !== 'undefined'){
                    macId = OremInitData.Users[uid].MacId;
                    photoId = OremInitData.Users[uid].PhotoId;
                }

                // Show Remove Option, is current user the same user as the one that submitted the record?
                isRecordSubmittedByCurrentUser = corrections[oremIndex] 
                    && OremInitData.UserId === corrections[oremIndex].UserId || submittedByUser;

                // Group related info together;  -- assumes related elements are continguous, 
                // so once EntryId doesn't match next item then there are no more related items.
                while (corrections.length > oremIndex) {
                    if (entryId == corrections[oremIndex].EntryId) {
                        if(corrections[oremIndex].OldValue){
                            fdid = fdid || corrections[oremIndex].Fdid;
                            oldValues.push(corrections[oremIndex].OldValue);
                        }
                        if (corrections[oremIndex].NewValue) {
                            fdid = fdid || corrections[oremIndex].Fdid;
                            newValues.push(corrections[oremIndex].NewValue);
                        }
                        oremIndex++;
                    } else {
                        break;
                    }
                }


                // Set appropriate title
                if (fdid) {
                    title = OremMetaData.GetFdidNameForCorrectionContributions(fdid);
                } else {
                    title = "Comment";
                }

                fullOldValue = oldValues.join(" ");
                fullNewValue = newValues.join(" ");

                // Corrections are submitted with an entry id. Typically names will submit 2 corrections, 1 for first name, 
                // and 1 for last. We only want to display 1 correction for both first and last name.
                if (entryId !== previousEntryId && title) {

                    // Add html for submitted corrections (we always do this, even if the new correction is the same as the 
                    // old value, as customers may have simply added a comment.
                    content += OremMetaData.ContributionsHtml(title, content, fullOldValue, fullNewValue, true, entryId, reasonNumber, fdid, createDate, uid, comment, isRecordSubmittedByCurrentUser, macId, photoId);

                    //Update contribution count
                    OremMetaData.CorrectionCount++;
                }
                previousEntryId = entryId;
            }
            return content;
        },
        ContributionsHtml: function(title, content, originalFullName, correctedFullName, isEntry, entryId, reasonNumber, fdid, createDate, uid, comment, isRecordSubmittedByCurrentUser, macId, photoId) {
            var removeOption = "", optionalRatherThan = "", commentHtml = "", correctionTypeDescription = "", profileImage = "", profileIcon = "";

            var domains = window.location.host.split(".");
            var domain = domains[1] + "." + domains[2];
            // Don't forget second level domains like .co.uk and .com.au
            if (typeof(domains[3]) !== "undefined") {
                domain += "." + domains[3];
            }

            var defaultFileId = "ffffffff-ffff-ffff-ffff-ffffffffffff";

            if (macId && photoId && photoId !== defaultFileId) {
                var profileImageId = "60564";
                var stackId = "SearchUI";
                var imageSrc = "http://mediasvc." + domain + "/v2/image/namespaces/" + profileImageId + "/media/" + photoId + "?Client=" + stackId + "&maxWidth=60&maxHeight=80";

                profileImage = "<span class='userCard userCardSize3 userCardInline'>" +
                                        "<span class='userCardImg userCardPortrait userCardImgSquare'>" +
                                            "<img class='profileImage' src='" + imageSrc + "' alt='" + OremMetaData.GetSubmittedNameForCorrectionContributions(uid) + "'/>" +
                                        "</span>" +
                                "</span>";

            } else {
                profileIcon = " icon iconPerson";
            }

            if (!isNaN(reasonNumber)) {
                correctionTypeDescription = "<p>" +
                                                OremMetaData.GetCorrectionTypeDescriptionForCorrectionContributions(reasonNumber) +
                                            "</p>";
            }

            //Display comments for each correction if available.
            if (comment) {
                commentHtml = "<p>" + comment + "</p>";
            }

            //Display trash icon for removing self-submitted corrections.
            if (isRecordSubmittedByCurrentUser) {
                removeOption = "<button onclick='OremMetaData.DeleteCorrection(event, " +
                    "\"" +
                    OremInitData.SelectedPid +
                    "\", \"" +
                    entryId +
                    "\", " +
                    isEntry +
                    ")' type='button' class='icon iconTrash link'></button>";
            }

            //If there was an original label, display with "rather than".
            if (originalFullName !== "") {
                optionalRatherThan = "rather than";
            }

            return "<tr>" +
                "<td class='w20'>" +
                title +
                "</td>" +
                "<td>" +
                "<section class='correctionDetails'>" +
                removeOption +
                "<strong>" +
                correctedFullName +
                "</strong><span> " +
                optionalRatherThan +
                " </span><em>" +
                originalFullName +
                "</em>" +
                correctionTypeDescription +
                "<p>" +
                commentHtml +
                "</p>" +
                "<footer>" +
                OremMetaData.SubmittedByHtml(profileImage, profileIcon, domain, uid, createDate) +
                "</footer>" +
                "</section>" +
                "</td>" +
                "</tr>";
        },
        SubmittedByHtml: function(profileImage, profileIcon, domain, uid, createDate) {
            if (typeof OremInitData.Users[uid] !== 'undefined') {
                return "Submitted by:&nbsp;" +
                    profileImage +
                    "<a class='link" + profileIcon + "' href=\"http://community." + domain + "/profile.aspx?mba=" + uid + "\">" +
                    OremMetaData.GetSubmittedNameForCorrectionContributions(uid) +
                    "</a>" +
                    "&nbsp;on " +
                    createDate;
            }
            return "Submitted on {0}".replace("{0}", createDate);
        },
        GetEmailModal: function() {
            //Unused code - possible use in future release
            //TODO: Append content to current callout/Modal for emailing user.
        },
        BlockUser: function(uid) {
            //Unused code - possible use in future release
            var requestObj = {
                "f":"UnBlockUser",
                "bId": bId,
                "bcId":"li_blockLinkContainer",
                "ccId":"li_contactLinkContainer",
                "view":"Hover",
                "uid":uid,
                "requestType":"async"
            };
            $.ajax({
                url: "/community.ashx",
                data: requestObj
            });
            //TODO: Send block request for profile info.
            //Update callout DOM with new "unblock user" text ["YouHaveBlockedUser"] && ["Unblock"]
        },
        GetCommunityProfile: function(event, el, uid) {
            //Unused code - possible use in future code.
            event.preventDefault();
            event.stopPropagation();
            $.ajax({
                url: '/anc-community/profile/mini?userId=' + uid,
                dataType: "json",
                success: function(profileInfo) {
                    //TODO: Get valid values of macId, BlockedStatus and location
                    var host = window.location.host.split(".")[1];
                    var locale = window.location.host.split(".")[2];
                    var firstName = profileInfo.FirstName,
                        lastName = profileInfo.LastName,
                        lastLogin = new Date(profileInfo.LastLoginDate),
                        viewProfileUrl = "http://community." + host + "." + locale + "/profile.aspx?mba=" + uid,
                        profileImageUrl = "http://userdoc." + host + "." + locale + "userdocstore/download.ashx?fileid=" + profileInfo.PhotoID + "mac=" + profileInfo.macId,
                        isBlocked = (profileInfo.BlockedStatus) ? "Block User" : "Unblock",
                        userLocation = "";

                    //Construct the user profile location
                    if (profileInfo.City && profileInfo.State) {
                        userLocation = profileInfo.City + ", " + profileInfo.State;
                    } else if (profileInfo.City && !profileInfo.State) {
                        userLocation = profileInfo.City;
                    } else if (!profileInfo.City && profileInfo.State) {
                        userLocation = profileInfo.State;
                    }

                    var communityProfileHtml = "<div>" +
                        "<div class='profileActions'>" +
                        "<img src='" + profileImageUrl + "'/>" +
                        "<ul>" +
                        "<li><a href='" + viewProfileUrl + "'>View Profile</a></li>" +
                        "<li><button class='link icon iconEmail' onclick='OremMetaData.GetEmailModal()'>Contact</button></li>" +
                        "<li><button class='link icon iconDenied' onclick='OremMetaData.BlockUser(" + uid + ")'>" + isBlocked + "</button></li>" +
                        "</ul>" +
                        "</div>" +
                        "<div class='profileDetails'>" +
                        "<h4>" + firstName + " " + lastName + "</h4>" +
                        "<p><strong>" + userLocation + "</strong><span>" + lastLogin + "</span></p>" +
                        "<div class='profileContributions'>" +
                        "<p>" +
                        "<strong>" +
                        "Ancestry Contributions" +
                        "</strong>" +
                        //TODO, Get contribution type and amount
                        "</p>" +
                        "</div>" +
                        "</div>" +
                        "</div>";

                    //TODO: Add callout in once the CSS is formatted for the callouts and all of the data is available from the endpoint above.
                    $(el).callout({
                        content: communityProfileHtml
                    });
                }
            });
        },
        DoOrem: function() {
            var oremCorrections = OremMetaData.CorrectionCount;
            if (oremCorrections && oremCorrections.length === 0) oremCorrections = null;
            //Are there corrections? If so, show 'View/Add' label
            if (!oremCorrections) {
                var $correctionsContent = $("#addOremCorrections");
                $correctionsContent.modal();
                $correctionsContent.removeClass("noDisplay");
            } else {
                var $viewEditOremCorrections = $("#viewEditOremCorrections");
                $viewEditOremCorrections.modal();
                $viewEditOremCorrections.removeClass("noDisplay");

            }
        },
        ShowTextAreaForSourceInfo: function() {
            $("#addOremCorrections").find(".sourceInfo textarea, .sourceInfo label").removeClass("noDisplay");
            $("#addOremCorrections").find(".sourceInfo textarea").focus();
            $("#viewSourceTextArea").addClass("noDisplay");
        },
        RemoveDisabledAttribute: function($additionalCorrectionContainer) {
            $additionalCorrectionContainer.find("input[type=text]")
                .prop("disabled", null)
                .val("");
        },
        UpdateApplyToHouseHold: function($optionSelected) {
            $("#addOremCorrections").find(".applyToHouseHold").val($optionSelected.attr("data-applyH"));
        },
        UpdateOriginalValue: function($optionSelected) {
            $("#addOremCorrections").find(".originalValue").val($optionSelected.attr("data-origVal"));
        },
        TypeChange: function(selection) {
            var selectedIndex = selection.selectedIndex,
                selectedIndexValue = selection.options[selectedIndex].value,
                $optionSelected = $(selection.options[selectedIndex]),
                $additionalCorrectionContainer = $("#oremAdditionalCorrection"),
                validValues = $optionSelected.data("validvalues"),
                showOther = $optionSelected.attr("data-showother"),
                dataLabel = $optionSelected.attr("data-label"),
                dataFdid = $optionSelected.attr("data-fdid"),
                dataHint = $optionSelected.attr("data-hint"),
                isRace = $optionSelected.data("israce"),
                hasMultipleFields = +$optionSelected.data("fieldslength") > 1;

            if(hasMultipleFields){
                OremMetaData.CreateMultipleInputFields(selectedIndexValue);
            }

            OremMetaData.RemoveAlertIfChangedToValidValue();

            //Make sure any disabled inputs are not disabled and cleared in update for type
            OremMetaData.RemoveDisabledAttribute($additionalCorrectionContainer);

            OremMetaData.UpdateApplyToHouseHold($optionSelected);
            OremMetaData.UpdateOriginalValue($optionSelected);

            //Customer chose the 'Choose' option
            if (selectedIndexValue < 0) {
                OremMetaData.ShouldShowChooseUI(selectedIndex);
            }

            if (OremMetaData.ShouldShowChooseUI()) {
                $("#oremExplanation, #oremReason, #oremAdditionalCorrection, .oremCorrectionNames").addClass("noDisplay");
            } else {
                if (hasMultipleFields) {
                    $(".oremCorrectionNames").removeClass("noDisplay");
                    $("#oremAdditionalCorrection").addClass("noDisplay");
                } else {
                    $("#oremAdditionalCorrection").removeClass("noDisplay");
                    $(".oremCorrectionNames").addClass("noDisplay");
                }
                $("#oremExplanation, #oremReason").removeClass("noDisplay");
                OremMetaData.CreateValidValueOptionsAndShowContent(validValues, showOther, dataFdid, hasMultipleFields, isRace);
            }

            //Update Reason select options
            OremMetaData.CreateOremReasonsOptions(selectedIndex);

            //Update select and input labels
            OremMetaData.UpdateLabels($additionalCorrectionContainer, dataLabel, dataHint, $optionSelected.attr("data-fdid"), hasMultipleFields);

            $.modal.center();
        },
        UpdateLabels: function($additionalCorrectionContainer, dataLabel, dataHint, fdid, hasMultipleFields) {
            if (!hasMultipleFields) {
                if (dataLabel) {
                    var dataLabelAttr = dataLabel.replace(" ", ""),
                        originalValue = correctionsMetadata.OriginalValues[fdid] ? correctionsMetadata.OriginalValues[fdid] : "";
                        $additionalCorrectionContainer.removeClass("noDisplay");
                        $additionalCorrectionContainer.find("label").attr("for", "oremCorrection" + dataLabelAttr);
                        $additionalCorrectionContainer.find("input").attr("id", "oremCorrection" + dataLabelAttr);
                        $additionalCorrectionContainer.find("select").attr("aria-labelledby", dataLabelAttr);
                        $additionalCorrectionContainer.find("label").html($additionalCorrectionContainer.find("label").html().replace("{0}", ""));
                        $additionalCorrectionContainer.find("label > span").text(dataLabel);
                        $additionalCorrectionContainer.find("label ~ span").text(dataHint);
                        $additionalCorrectionContainer.find("input[type=text]").attr("id", "oremField" + dataLabelAttr);
                        $additionalCorrectionContainer.find("label ~ input[type=hidden]").attr("name", "fdid");
                        $additionalCorrectionContainer.find("label ~ input[type=hidden]").val(fdid);
                }
                //Display OriginalValue
                OremMetaData.DisplayOriginalValue($additionalCorrectionContainer, originalValue);
            }
        },
        DisplayOriginalValue: function($additionalCorrectionContainer, originalValue) {
            $additionalCorrectionContainer.find('.originalValue').remove();
            if(originalValue){
                $additionalCorrectionContainer.prepend('<h4 class="originalValue"><em>Original Value: <span>' + originalValue + '</span></em></h4>');
            }
        },
        HtmlChooseOptionTemplate: function() {
            return "<option value=\"-1\">Choose...</option>";
        },
        SetValueOfInputIfSelectIsUsed: function() {
            var $additionalCorrectionContainer = $("#oremAdditionalCorrection");
            $additionalCorrectionContainer
                .off("change." + OremEventName)
                .on("change."  + OremEventName, "select", function() {
                    if ($(this).find("option:selected").val() === "-1") {
                        $(this).siblings("input[type=text]").prop("disabled", null);
                        $(this).siblings(".oremCorrection").val("");
                    } else {
                        $(this).siblings("input[type=text]").prop("disabled", "disabled");
                        $(this).siblings(".oremCorrection").val($(this).find("option:selected").text());
                    }
                });
        },
        CreateValidValueOptionsAndShowContent: function(validValues, showOther, dataFdid, hasMultipleFields, isRace) {
            var $additionalCorrectionContainer = $("#oremAdditionalCorrection");

            //Get the choose option
            var options = "",
                shouldShowTextBoxAndSelect = false,
                shouldShowSelectOnly = false,
                shouldShowInputOnly = false;
            //Empty out select and reconstuct it
            $additionalCorrectionContainer.find("select").empty();

            if (validValues && validValues.length > 0) {
                for (var i = 0; i < validValues.length; i++) {
                    var value = (validValues[i].Id !== "") ? validValues[i].Id : i;
                    options += "<option value='" + value + "'>" + validValues[i].Text + "</option>";
                }
                if (isRace) {
                    shouldShowTextBoxAndSelect = true;
                } else {
                    shouldShowSelectOnly = true;
                }

                $additionalCorrectionContainer.find("select").append(OremMetaData.HtmlChooseOptionTemplate()).append(options).val("-1");
            } else if (!hasMultipleFields) {
                shouldShowInputOnly = true;
                $(".oremCorrectionNames").addClass("noDisplay");
            } else {
                $additionalCorrectionContainer.addClass("noDisplay");
                $(".oremCorrectionNames").removeClass("noDisplay");
            }

            if (shouldShowTextBoxAndSelect) {
                OremMetaData.SetValueOfInputIfSelectIsUsed();
                $additionalCorrectionContainer
                    .removeClass("noDisplay")
                    .find("input[type=text]").removeClass("noDisplay");
                $additionalCorrectionContainer
                    .find("select").removeClass("noDisplay");
            } else if (shouldShowSelectOnly) {
                OremMetaData.SetValueOfInputIfSelectIsUsed();
                $additionalCorrectionContainer.removeClass("noDisplay");
                $additionalCorrectionContainer.find("input[type=text]").addClass("noDisplay");
                $additionalCorrectionContainer.find("select").removeClass("noDisplay");
            } else if (shouldShowInputOnly) {
                $additionalCorrectionContainer.removeClass("noDisplay");
                $additionalCorrectionContainer.find("select").addClass("noDisplay");
                $additionalCorrectionContainer.find("input[type=text]").removeClass("noDisplay");
            } else {
                $additionalCorrectionContainer.addClass("noDisplay");
                $additionalCorrectionContainer.find("input[type=text]").addClass("noDisplay");
                $additionalCorrectionContainer.find("select").addClass("noDisplay");
            }
        },
        ShouldShowChooseUI: function () {
            //Show simple UI if first select is -1.
            return $("#oremAlternateFor option:selected").val() === "-1";
        },
        DeleteCorrectionConfirmation: function() {
            return confirm("Are you sure you want to remove this correction?");
        },
        DeleteCorrection: function(event, pid, itemId, isEntry) {
            var deleteCorrectionData = {},
                target = event.target || event.srcElement;
            if (OremMetaData.DeleteCorrectionConfirmation()) {
                deleteCorrectionData["pid"] = pid;
                if (!isEntry) {
                    deleteCorrectionData["itemId"] = itemId;
                } else {
                    deleteCorrectionData["entryId"] = itemId;
                }
                $.ajax({
                    type: "POST",
                    url: "/Content/Orem/AJAX/DeleteCorrection.ashx" + ((typeof isWatchBitRequest !== 'undefined' && isWatchBitRequest(location.href)) ? addWatchBitParameter(false) : ""),
                    data:deleteCorrectionData,
                    success: function() {
                        OremMetaData.CorrectionCount--;
                        //Just in case the contribution gets below 0
                        if (OremMetaData.CorrectionCount < 0) {
                            OremMetaData.CorrectionCount = 0;
                        }
                        $("#oremContributionCount").text(OremMetaData.CorrectionCount);

                        OremMetaData.ChangeCorrectionToolLabel(OremMetaData.CorrectionCount);
                        //Remove row from correction and deduct count (this number will update once page is refreshed).
                        $(target).parents("tr").first().remove();
                    },
                    error: function(xhr, status) {
                        alert("Sorry, We are unable to store your correction at this time.");
                    }
                });
            }
        }
    };

    $(function() {
        OremMetaData.CreateOremFields();
    });

    $(function() {
        $("#viewSourceTextArea").on("click touchstart", function() {
            OremMetaData.ShowTextAreaForSourceInfo();
        });
        $("#addOremCorrections").find(".cancel").on("click touchstart", function() {
            $.modal.close();
        });
        $("#viewEditOremCorrections").find(".cancel").on("click touchstart", function () {
            $.modal.close();
        });
        $("#oremAddYourOwnCorrection").on("click touchstart", function () {
            var $addOrem = $("#addOremCorrections");
            $addOrem.modal();
            $addOrem.removeClass("noDisplay");
        });
        $("#closeOremHouseHoldCorrection").on("click touchstart", function () {
            $.modal.close();
        });
    });
</script>
    <div class="noDisplay" id="addOremCorrections" data-title="Add an update for Joyce Mears">
        <p class="requiredIndicator">Indicates required field</p>
        <p id="oremAlert" class="alert alertHidden alertHiding" role="alert" aria-label="Please choose a reason for your alternate." style="margin-bottom: -24px;">Please choose a reason for your alternate.</p>
        <form class="form ancGrid topSpacing">
            <div class="provideAlternateFor ancCol ancColRow w50 full768">
                <label for="oremAlternateFor" class="required">Provide alternate for Joyce Mears</label>
                <select id="oremAlternateFor" onchange="OremMetaData.TypeChange(this)"><option value="-1">Choose...</option><option data-hint="" data-label="Name" data-showother="false" data-applyh="false" data-origval="Joyce" data-datatype="none" data-fieldslength="2" data-fdid="80004002" value="0">Name</option></select>
            </div>
            <div id="oremReason" class="reason ancCol ancColRow w50 full768 noDisplay">
                <label for="oremReasonField" class="required">Reason</label>
                <select id="oremReasonField" name="reason"><option value="-1">Choose...</option><option value="0">Transcription error</option><option value="1">Incorrect in image</option><option value="2">Nick Name</option><option value="3">Maiden Name</option><option value="4">Name Change</option><option value="5">Variation</option></select>
            </div><input class="applyToHouseHold" type="hidden" name="applyH" value="false"><input type="hidden" class="originalValue" name="origVal" value="">
            <div id="oremAdditionalCorrection" class="noDisplay ancCol ancColRow w50">
                <!-- Additional correction field is injected here via JS -->
                <label class="required">Add an update for {0}<span></span></label>
                <select class="noDisplay"></select>
                <input type="text" class="oremCorrection noDisplay" name="correction">
                <input type="hidden" name="fdid">
                <span></span>
            </div>
            <!-- Given Name, Surname fields are injected here via JS -->
            <div id="oremExplanation" class="sourceInfo ancCol ancColRow w100 noDisplay">
                <button id="viewSourceTextArea" type="button" class="link showing">Explain or Source your update (optional)</button>
                <label for="oremSourceInfo" class="noDisplay">Explain or Source your update (optional)</label>
                <textarea id="oremSourceInfo" class="noDisplay"></textarea>
            </div>
            <div class="ancCol ancColRow w100">
                <button class="ancBtn orange" id="oremSubmitAlternative" type="button">Submit Alternate</button>
                <button class="cancel link" type="button">Cancel</button>
            </div>
        </form>
    </div>
    <div id="houseHoldOremCorrections" class="noDisplay" data-title="Apply this change to other household members">
        <p class="alert alertSuccess" role="alert" aria-label="Your alternate has been saved">Your alternate has been saved</p>
        <p id="applyToHouseHold"><!-- Apply to other members of household text is injected here via JS --></p>
        <form class="form ancGrid topSpacing">
            <div class="ancCol ancColRow w100">
                <table class="table table480">
                    <!--Table data gets injected here via JS-->
                </table>
            </div>
            <div class="ancCol ancColRow w100">
                <button id="addOremHouseHoldCorrection" class="ancBtn orange" type="button">Apply</button>
                <button class="link cancel" id="closeOremHouseHoldCorrection" type="button">Close</button>
            </div>
        </form>
    </div>
    <div id="viewEditOremCorrections" class="noDisplay" data-title="Contributions for Joyce Mears">
        <p>
            This is what other Ancestry members have added to this record. If you have something to add, click on Add your own and tell us what you know.
        </p>
        <form class="form ancGrid topSpacing">
            <div class="ancCol ancColRow w100">
                <table class="table table480"><tbody><tr class="contributionsCountHeader"><th colspan="2"><span id="oremContributionCount">0</span>&nbsp;Contributions</th></tr></tbody></table>
            </div>
            <div class="ancCol ancColRow w100">
                <button id="oremAddYourOwnCorrection" class="ancBtn" type="button">Add your own</button>
                <button class="link cancel" id="oremCloseContributions" type="button">Close</button>
            </div>
        </form>
    </div>

                        </div>
                        <div id="recordData" class="ancCol w66 full480">
                            
				<table class="table tableHorizontal tableHorizontalRuled">
				<tbody>

					<tr>
						<th>Name of Deceased:</th>
						<td><span class="srchHit">Joyce Ann Mears<br><span title="Alternate name for this record">[Joyce Ann Smith]&nbsp;</span></span></td>
					</tr>


					<tr>
						<th>Gender:</th>
						<td>F <span class="g_srhint">(Female)</span></td>
					</tr>


					<tr>
						<th>Death Date:</th>
						<td>8 Mar 2010</td>
					</tr>


					<tr>
						<th>Death Place:</th>
						<td>Seaford</td>
					</tr>


					<tr>
						<th>Obituary Date:</th>
						<td>10 Mar 2010</td>
					</tr>


					<tr>
						<th>Newspaper Title:</th>
						<td>NewsZap</td>
					</tr>


					<tr>
						<th>Newspaper Location:</th>
						<td>Delaware, DE, USA</td>
					</tr>


					<tr>
						<th>Residence (at time of death):</th>
						<td>Seaford</td>
					</tr>


					<tr>
						<th>Spouse's Name:</th>
						<td>Jerry V. Mears</td>
					</tr>


					<tr>
						<th>Father's name:</th>
						<td>Fred Smith</td>
					</tr>


					<tr>
						<th>Mother's name:</th>
						<td>Ruth Ellen Meredith</td>
					</tr>


					<tr>
						<th>Childrens' Names:</th>
						<td>Michelle Lowe; Richard Mears</td>
					</tr>


					<tr>
						<th>Siblings' Names:</th>
						<td>Diane Harrington, Debbie Waldridge, both of Laurel and Donna Ockels of Seaford; Fred Smith III</td>
					</tr>


					<tr>
						<th>Number of Grandchildren:</th>
						<td>4</td>
					</tr>


				</tbody>
				</table>

                                 
                            <div id="bottomCtaSaveAndCancel">
                                        <button class="ctaCalloutTrigger ancBtn calloutTrigger iconAfter iconArrowSmallDownAfter" data-callout="<div class='ctaCalloutContent'><a href=&quot;javascript:TGN.Ancestry.Search.selectPerson.modalInit();&quot; onclick=&quot;$('.ctaCalloutTrigger').callout('close');&quot;>Save to <strong>someone in your tree</strong></a><a href=&quot;javascript:saveToShoebox();&quot; class=&quot;shoeboxLink&quot;>Save to <strong>your Shoebox</strong></a></div>" data-callout-classes="calloutMenu">
        Save
    </button>

    
                            </div>
                                
                        </div>
                        
                    </div>